var pdf = require("pdf-creator-node");
// var pdf = require("../index");
var fs = require("fs");
var path = require("path");
// Read HTML Template
var html = fs.readFileSync(path.join(__dirname, "./template.html"), "utf8");

var options = {
  height: "10.5in", // allowed units: mm, cm, in, px

  border: "10mm",
};

const orders = [
  {
    order: 0,
    logo_image: "https://careshare.life/images/400dpiLogoCropped-p-500.png",
  },
  {
    order: 1,
    practitioner_name: "Dr. Sarath Singh",
    practitioner_qualification:
      "MD - Physician, Diploma in Geriatric Medicine, P.G Diploma in Diabetes Management Post Graduate Diploma in Clinical Endocrinology & Diabetes",
  },
  {
    order: 2,
    practitioner_mrn: "2879",
  },
  {
    order: 3,
    patient_name: "Dheeraj Mundhra",
    ppi: "29 years, Male",
    today_date: "06 January, 2022",
    prescription_id: "37477384",
  },
  {
    order: 4,
    complaints: "Sore throat, pain in neck",
  },
  {
    order: 5,
    diagnosis_1: "Neck cancer",
    diagnosis_2: "Throat cancer",
  },
  {
    order: 6,
    medication_1: "Calpol 650",
    medication_2: "Limcee",
    medication_3: "Naproxen (550mg)",
    medication_4: "Bevon",
  },
  {
    order: 7,
    medication_1: "Calpol 650",
    medication_2: "Limcee",
    medication_3: "Naproxen (550mg)",
    medication_4: "Bevon",
  },
  {
    order: 8,
    test_1: "Calpol 650",
    test_2: "Limcee",
    test_3: "Naproxen (550mg)",
  },
  {
    order: 9,
    notes:
      "Added notes or information that a patient should follow before the next appointment.",
  },
  {
    order: 10,
    followup: "31st March 2022",
  },
  {
    order: 11,
    practitioner_name: "Dr. Sarath Singh",
    practitioner_qualification:
      "MD - Physician, Diploma in Geriatric Medicine, P.G Diploma in Diabetes Management Post Graduate Diploma in Clinical Endocrinology & Diabetes",
    practitioner_address:
      "Vita Family Clinci No 495, 24th Main, 17th Cross, 2nd Sector, HSR Layout, Bangalore 560102",
  },
];

var document = {
  html: html,
  data: {
    orders,
  },
  path: "./output.pdf",
  type: "", // "stream" || "buffer" || "" ("" defaults to pdf)
};

console.log(document);
pdf
  .create(document, options)
  .then((res) => {
    console.log(res);
  })
  .catch((error) => {
    console.error(error);
  });
